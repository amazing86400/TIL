# numpy



### 라이브러리 불러오기

```python
import numpy as np
```

numpy 라이브러리를 가져오고 np라고 별명을 붙여주자.



---



### 배열 생성

```python
np.array([1,2,3])                      # 1차원 배열
np.array([[1,2,3],[4,5,6]])            # 2차원 배열
np.array([[[1,2,3],[4,5,6],[7,8,9]]])  # 3차원 배열
```

 2차원 배열은 수리적 모형의 관점에서 행과 열로 이루어진다. 그리고 3차원 배열은 이미지 처리할 때 특히 중요하다. 각 차원마다 []가 추가되니 주의하자.



---



### arange

```python
>>> np.arange(1,101)  # 1~100까지의 인자 생성
array([1,2,3,4...97,98,99,100])  # 1차원으로 생성됨

>>> np.arange(1,10).reshape(3,3)
array([[1, 2, 3],  # 2차원으로 생성됨
       [4, 5, 6],
       [7, 8, 9]])
```

 **array()** 함수로 원하는 인자를 지정해 줄 수 있지만 그렇지 않다면 **arange()** 함수를 사용해 주는 것도 유용한 방법이다. arange의 설정값 (x, y)를 설명하자면, x부터 y-1까지를 array 형태로 만들어 준다. 그리고 이를 **reshape()** 함수를 이용해 차원을 다르게 만들어 줄 수도 있다. 우리는 reshape() 함수가 있기에 딥러닝이 가능하다는 것을 숙지하고 있어야 한다.



---



### 색인

```python
>>> print(a)
array([[1, 2, 3],
       [4, 5, 6],
       [7, 8, 9]])

>>> a[1,:]  # 행은 1행, 열은 다 가져와
array([4, 5, 6])

>>> a[:,2]  # 행은 다 가져오고, 열은 2열만
array([3, 6, 9])

>>> a[0:2,1:3]  # 차원 축소 발생 안함
array([[2, 3],
       [5, 6]])

>>> a[[0,2],:3]
array([[1, 2, 3],
       [7, 8, 9]])

>>> a[[1,2],[1,2]]
array([5, 9])
```

 색인은 문자열과 방법은 동일하다. 대신 일반 구조의 색인을 한다면 차원이 축소된다. 실제로 a는 2차원 array이지만 **a[1,:]**를 해줬을 때 1차원으로 차원이 축소된 것을 알 수 있다. 차원 축소가 발생하지 않는 방법은 슬라이싱 방법이다. **a[0:2,1:3]** 이런 식으로 슬라이싱을 해주면 차원 축소가 발생하지 않는다. 그리고 **a[[0,2],:3]** 이런 식으로 []를 사용해 가운데 행을 제외하고 인덱싱할 수도 있다. a[[1,2],[1,2]] 이런 식을 **'포인트 인덱싱'**이라 부른다. 풀이하자면 1행과 1열의 값, 2행과 2열의 값을 추출한다. 그래서 결과는 5와 9가 나오는 것이다.



---



### 조건 색인

```python
>>> print(a)
array([[1, 2, 3],
       [4, 5, 6],
       [7, 8, 9]])

>>> a > 5
array([[False, False, False],
       [False, False,  True],
       [ True,  True,  True]])

>>> a[a>5]
array([6, 7, 8, 9])

>>> a[a[:,0]>5]
array([[7, 8, 9]])
```

 색인에 조건을 더한다면 위 코드처럼 결과가 나온다. 먼저 a > 5는 array에서 5보다 큰 값들은 True, 그렇지 않은 값은 False로 표시한다. 그리고 이 코드를 a의 리스트로 다시 담으면 인자 값을 추출한다. a[a[:,0]>5] 이 코드의 경우에는 1열의 있는 값 중 5보다 큰 행을 가져오라는 의미이다. 그래서 마지막 행이 결과로 추출된 것이다.



### method

```python
a.dtype    # 넘파이에서 구성하는 데이터 타입
a.shape    # 넘파이의 모양 확인
a.reshape  # array 모양 변경
a.ndim     # array 차원 확인
```

 dtype은 넘파이의 구성 데이터 타입을 알려준다. shape는 넘파이의 모양을 확인할 수 있는데, 행과 열로 구분된다. 만약 행만 보고 싶다면 shape[0]을 해주고, 열을 보고 싶다면 shape[1]을 해주면 된다. reshape는 위에서 본 것과 같이 array의 모양을 변경시켜준다. 마지막으로 ndim은 array의 차원을 확인할 수 있다. 



---



### 연산

```python
>>> np.array([1,2,3]) + np.array([4,5,6])
array([5, 7, 9])

>>> np.array([1,2,3]) * np.array([4,5,6])
array([ 4, 10, 18])

>>> np.array([1,2,3]) / np.array([4,5,6])
array([0.25, 0.4 , 0.5 ])
```

 list끼리는 연산이 불가하고 확장으로 해석되지만, 넘파이를 사용한다면 연산도 가능하다. 단, 리스트 안 인자의 수가 같아야만 된다.



---



### 데이터 타입 변환

```python
a.astype('float')
a.astype('int')
a.astype('str')
```

 astype() 함수를 사용해 데이터 타입을 변환할 수도 있다. 실수는 'float'으로, 정수는 'int'로, 문자는 'str'로 입력하면 된다.